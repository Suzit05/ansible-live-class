create Limit in Ansible Playbook

Step-1 Create two Ubuntu instance
usig given inventory file

Step-2 use any of the host to limit the initialization
> sudo ansible-playbook -i inventory_jenkins.yml jenkins.yml --limit "aws1"


What does --limit do?
- By Default Anisble Runs the Playbook on all hosts in the hosts: group you specify.
- --limit restrict execution to only the hosts(s) you mentioned

- Example: if your inventory_jenkins file has aws1 and aws2 , and you run with --lkimit "aws1", then only aws1 get the jenkins installtion

Why It is Useful?
1. Testing changes safely.
    - suppose you are deploying new versionb of jenkins or a configuration change. you can try it first on aws1 (test server ) using --limit "aws1" instead of all servers.

2. Selective Execution:
    - May be only one server (aws2) needs the update /fix not all servers
    - instead of edidting playbooks or inventories you just run:

    ansible-playbook -i inventory_jenkins.yml jenkins.yml --limit "aws2"

3. Rolling Update:
    - in profuction you rerly update all serverat once
    - you might update one server at a time with --limit , check stabilty, then proceed.

4. Debugging:
    - if a task is failing you can target just one host for troubleshooting without affecting others

You can also use without --limit Vs With Limit


LoadBalancer
------------------------
- A LoadBalancer(LB) is like a traffic cop for your servers.
- when many users try to access your application (or a website), the load balancer distribute the incoming traffic accross multiple servers.
- This ensures that no single server gets overloaded.
- if one server goes dowwn , the load balancer can redirec traffic to heavy servers, improving availabilty.
- it widely use: Scalability, high Availaibity,Performace,Felixibility

Types of Load Balancer:
1. Hardware LB 
2. Software LB
3. Cloud LB (Most commany used)
    - aws (ELB- Elastic Load Balancer)
    - Azure( Azure Load Balancer)
    - GCP (Cloud Load Balancer)

How Load Blanacer will Work???
-----------------------------------------------
1. client--> Load Balancer---> Server 1
2. Client--> Load Balancer---> Server 2
3. Client--> Load Balancer---> Server 3

Load Balancer decides which server gets each request using algorithm like
1. Round Robin
2. Least Connections
3. IP HASH

Create jenkins_lb w.r.t jenkins.yml

run:
ansible-playbook -i inventory_jenkins.yml jenkins_lb.yml 
[make sure both instances are running perfectly]

if you rally want to check the laod balancer
- create two aws ubuntu instance> install nginx> create two index.html file
- in first index.html file <h1> Hello from Instance-1</h1>
- in second index.html file <h1> Hello From Instance-2</h1>

now create loadblanacer>So loadblanacer will decide based on the algorithm which instance to call 